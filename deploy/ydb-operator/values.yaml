## @section Docker image configuration
##

## YDB operator image
##
image:
  ## @param image.pullPolicy Operator container pull policy
  ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images
  ##
  pullPolicy: IfNotPresent
  ## @param image.repository Operator image repository
  repository: cr.yandex/yc/ydb-kubernetes-operator
  ## @param image.tag Operator image tag
  tag: 0.2.0

## @param imagePullSecrets Secrets to use for Docker registry access
## Secrets must be provided manually.
## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
## Example:
## pullSecrets:
##   - myRegistryKeySecretName
##
imagePullSecrets: []

## @skip nameOverride
nameOverride: ""
## @skip fullnameOverride
fullnameOverride: ""

## @section Resource quotas
## ref: http://kubernetes.io/docs/user-guide/compute-resources/
resources:
  ## @param resources.limits The resource limits for Operator container
  ## Например:
  ## limits:
  ##    cpu: 250m
  ##    memory: 512Mi
  limits: {}
  ## @param resources.requests The requested resources for Operator container
  ## Например:
  ## requests:
  ##    cpu: 250m
  ##    memory: 256Mi
  requests: {}

webhook:
  enabled: true

  service:
    type: ClusterIP
    port: 9443

  patch:
    enabled: true
    image:
      repository: k8s.gcr.io/ingress-nginx/kube-webhook-certgen
      tag: v1.0
      sha: "f3b6b39a6062328c095337b4cadcefd1612348fdd5190b1dcbcb9b9e90bd8068"
      pullPolicy: IfNotPresent
    resources: {}
    ## Provide a priority class name to the webhook patching job
    ##
    priorityClassName: ""
    podAnnotations: {}
    nodeSelector: {}
    affinity: {}
    tolerations: []

    ## SecurityContext holds pod-level security attributes and common container settings.
    ## This defaults to non root user with uid 2000 and gid 2000. *v1.PodSecurityContext  false
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
    ##
    securityContext:
      runAsGroup: 2000
      runAsNonRoot: true
      runAsUser: 2000

  # Use certmanager to generate webhook certs
  certManager:
    enabled: false
    # self-signed root certificate
    rootCert:
      duration: ""  # default to be 5y
    admissionCert:
      duration: ""  # default to be 1y
    # issuerRef:
    #   name: "issuer"
    #   kind: "ClusterIssuer"